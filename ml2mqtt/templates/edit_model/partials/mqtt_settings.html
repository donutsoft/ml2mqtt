<div class="settingsGroup">
    <h3>MQTT Settings</h3>
  
    <div class="formField">
      <label for="mqttTopic">MQTT Topic</label>
      <input type="text" id="mqttTopic" name="mqttTopic" value="{{ model.mqttTopic }}" oninput="updateDerivedTopics()" required>
    </div>
  
    <div class="formField">
      <label>Subscribe Topic</label>
      <div id="subscribeTopic">{{ model.mqttTopic }}/set</div>
    </div>
  
    <div class="formField">
      <label>Broadcast Topic</label>
      <div id="broadcastTopic">{{ model.mqttTopic }}/state</div>
    </div>
  </div>
  
  <script>
    function updateDerivedTopics() {
      const base = document.getElementById("mqttTopic").value.trim();
      document.getElementById("subscribeTopic").textContent = base + "/set";
      document.getElementById("broadcastTopic").textContent = base + "/state";
    }
  </script>